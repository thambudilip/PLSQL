DROP TABLE AGENT;

CREATE TABLE AGENT(
    AG_NAME VARCHAR2(50) NOT NULL,
    AGENT_CODE VARCHAR2(20),
    BRANCH_NO VARCHAR2(50) NOT NULL,
    DEV_OFF_CODE  VARCHAR2(20) NOT NULL,
    DEV_OFF_NAME VARCHAR2(50) NOT NULL
); 

ALTER TABLE AGENT ADD CONSTRAINTS AG_PK PRIMARY  KEY (AGENT_CODE) ;

DROP TABLE EXAMINER;

CREATE TABLE EXAMINER(
    EX_NAME VARCHAR2(50) NOT NULL,
    EXAMINER_CODE VARCHAR2(20),
    ADDRESS VARCHAR2(200),
    QUALIFICATION VARCHAR2(50) NOT NULL,
    SPECIALIZATION VARCHAR2(50) NOT NULL
);

ALTER TABLE EXAMINER ADD CONSTRAINT EXAMINER_PK PRIMARY KEY (EXAMINER_CODE);

DROP TABLE REPORTS;

CREATE TABLE REPORTS(
    FULL_NAME VARCHAR2(50),
    DOB DATE,
    CLIENT_ID VARCHAR2(20),
    AGENT_CODE VARCHAR2(20),
    EXAMINER_CODE VARCHAR2(20),
    FATHERS_NAME VARCHAR2(50),
    OCCUPATION VARCHAR2(50),
    INTRODUCER_NAME VARCHAR2(50),
    INTRODUCER_DESG VARCHAR2(50),
    IS_EXAMINE_KNOWN_BEFORE_PROF_PER VARCHAR2(150),
    INDENTICATION_MARKS VARCHAR2(200),
    APPEAERANT_AGE NUMBER(3),
    DOES_SHE_HE_LOOKS_OLDER_AGE VARCHAR2(50),
    GENERAL_APPEARANCE_HEALTH VARCHAR2(50),
    SOBER_AND_TEMPERATE_HABITS VARCHAR2(50),
    MARKS_OF_POX VARCHAR2(50),
    SUCCESSFULL_VACCINATION_POX VARCHAR2(50),
    DEFECTS_THYROID_SEWLLINGS_OF_JOINTS VARCHAR2(50),
    EVIDENCE_OF_FILARISIS_VARICOSEVEINS_SKINDIESEASE VARCHAR2(50),
    EVIDENCE_OF_PAST_PRESENT_MALIGNANCY VARCHAR2(50),
    CHEST_OVER_NIPPLES_COMPLETE_EXPIRATION NUMBER,
     CHEST_OVER_NIPPLES_FULL_INSPIRATION NUMBER,
    ABDOMEN_OVER_NAVAL NUMBER,
    HEIGHT_WITHUOT_SHOES NUMBER,
    WEIGHT_WITH_THIN_CLOTHES NUMBER,
    GUMS_TEETHS_TOUNGUE_HEALTHY  VARCHAR2(50),
    ANY_PYORSHEA_MODERATE_OR_MARKED VARCHAR2(50),
    MISSING_TEETH_COUNT NUMBER,
    DENUTRE_OF_MISSING_TEETH NUMBER,
    DISEASE_OF_EYES_EARS_NOSE_THROATS VARCHAR2(100),
    CHEST_SYMMETRICAL VARCHAR2(50),
    SYMPTOMS_RESPIRATORY_SYSTEM VARCHAR2(50),
    HEART_SIZE_POS_IMPULSE VARCHAR2(100),
    STATE_PULSE_RATE VARCHAR2(50),
    BLOOD_VESSELS_HEALTHY VARCHAR2(50),
    BP_1ST_SYSTOLIC NUMBER,
    BP_1ST_DISTOLIC NUMBER,
    BP_2ND_SYSTOLIC   NUMBER,
    BP_2ND_DISTOLIC  NUMBER,
    LIVER_DISEASE VARCHAR2(100),
    GASTRIC_OR_DUODENAL_ULCER VARCHAR2(100),
    LUMP_TENDERNESS_FLUID_IN_ABODMEN VARCHAR2(100),
    PILES_OR_FISTULA VARCHAR2(100),
    URINE_SUGAR VARCHAR2(50),
    VENERAL_DISEASE VARCHAR2(50),
    HERENIA_DISEASE VARCHAR2(50),
    TESTIS_SIZE_CONSISTENCY VARCHAR2(50),
    HYDROCELE_PRESENT VARCHAR2(50),
    NERVE_DISEASES VARCHAR2(50),
    KNEE_JERKS_AND_PUPIL_REFLEXES VARCHAR2(50),
    ANY_OPERATION VARCHAR2(100),
    UNDERGONE_ECG_XRAY_BLOOD_URINE VARCHAR2(50),
    TEH_BREASTS_DISEASE VARCHAR2(50),
    EVEIDENCE_PREGENENCY VARCHAR2(50),
    UTERUS_CERVIX_DISEASE VARCHAR2(50),
    INJURY_MISCARRIAGE VARCHAR2(50),
    SPECIAL_REPORTS VARCHAR2(50),
    PAST_DISEASE_IF_SPEC_YES VARCHAR2(50),
    CONSIDER_LIFE_FIRSTCLASS    VARCHAR2(50),
    ADDTIONAL_REMARKS VARCHAR2(200)
);

ALTER TABLE REPORTS ADD CONSTRAINTS REPORTS_PK PRIMARY KEY(CLIENT_ID);

---------------------------------------------------------------------------------------------

--insert values for table using procedure for agent table


CREATE OR REPLACE PROCEDURE insert_agent(
 	V_AG_NAME IN VARCHAR2,
    V_AGENT_CODE  IN VARCHAR2,
    V_BRANCH_NO IN VARCHAR2,
    V_DEV_OFF_CODE IN  VARCHAR2,
    V_DEV_OFF_NAME IN VARCHAR2
)
IS
BEGIN
INSERT INTO AGENT (AG_NAME,AGENT_CODE,BRANCH_NO,DEV_OFF_NAME) VALUES (V_AG_NAME,V_AGENT_CODE,V_BRANCH_NO,V_DEV_OFF_NAME);
EXCEPTION
    WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('An Error occurred...'||SQLERRM);
END insert_agent;


--insert values for table using procedure for examiner table


CREATE OR REPLACE PROCEDURE insert_examiner(
 	P_EX_NAME IN VARCHAR2,
    P_EXAMINER_CODE IN  VARCHAR2,
    P_ADDRESS IN VARCHAR2,
    P_QUALIFICATION IN VARCHAR2,
    P_SPECIALIZATION IN  VARCHAR2
)
IS
BEGIN
INSERT INTO EXAMINER (EX_NAME,EXAMINER_CODE,ADDRESS,QUALIFICATION,SPECIALIZATION) VALUES (P_EX_NAME,P_EXAMINER_CODE,P_ADDRESS,P_QUALIFICATION,P_SPECIALIZATION);
EXCEPTION
    WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('An Error occurred...'||SQLERRM);
END insert_examiner;

--insert values for table using procedure for examiner table
CREATE OR REPLACE PROCEDURE insert_reports(
    P_FULL_NAME IN VARCHAR2,
    P_DOB IN DATE,
    P_CLIENT_ID IN VARCHAR2,
    P_AGENT_CODE IN VARCHAR2,
    P_EXAMINER_CODE IN VARCHAR2,
    P_FATHERS_NAME IN VARCHAR2,
    P_OCCUPATION IN VARCHAR2,
    P_INTRODUCER_NAME IN VARCHAR2,
    P_INTRODUCER_DESG IN VARCHAR2,
    P_IS_EXAMINE_KNOWN_BEFORE_PROF_PER IN VARCHAR2,
    P_INDENTICATION_MARKS IN VARCHAR2,
    P_APPEAERANT_AGE IN NUMBER, -- Remove precision and scale
    P_DOES_SHE_HE_LOOKS_OLDER_AGE IN VARCHAR2,
    P_GENERAL_APPEARANCE_HEALTH IN VARCHAR2,
    P_SOBER_AND_TEMPERATE_HABITS IN VARCHAR2,
    P_MARKS_OF_POX IN VARCHAR2,
    P_SUCCESSFULL_VACCINATION_POX IN VARCHAR2,
    P_DEFECTS_THYROID_SEWLLINGS_OF_JOINTS IN VARCHAR2,
    P_EVIDENCE_OF_FILARISIS_VARICOSEVEINS_SKINDIESEASE IN VARCHAR2,
    P_EVIDENCE_OF_PAST_PRESENT_MALIGNANCY IN VARCHAR2,
    P_CHEST_OVER_NIPPLES_COMPLETE_EXPIRATION IN NUMBER, -- Remove precision and scale
    P_CHEST_OVER_NIPPLES_FULL_INSPIRATION IN NUMBER, -- Remove precision and scale
    P_ABDOMEN_OVER_NAVAL IN NUMBER, -- Remove precision and scale
    P_HEIGHT_WITHUOT_SHOES IN NUMBER, -- Remove precision and scale
    P_WEIGHT_WITH_THIN_CLOTHES IN NUMBER, -- Remove precision and scale
    P_GUMS_TEETHS_TOUNGUE_HEALTHY IN VARCHAR2,
    P_ANY_PYORSHEA_MODERATE_OR_MARKED IN VARCHAR2,
    P_MISSING_TEETH_COUNT IN NUMBER, -- Remove precision and scale
    P_DENUTRE_OF_MISSING_TEETH IN NUMBER, -- Remove precision and scale
    P_DISEASE_OF_EYES_EARS_NOSE_THROATS IN VARCHAR2,
    P_CHEST_SYMMETRICAL IN VARCHAR2,
    P_SYMPTOMS_RESPIRATORY_SYSTEM IN VARCHAR2,
    P_HEART_SIZE_POS_IMPULSE IN VARCHAR2,
    P_STATE_PULSE_RATE IN VARCHAR2,
    P_BLOOD_VESSELS_HEALTHY IN VARCHAR2,
    P_BP_1ST_SYSTOLIC IN NUMBER, -- Remove precision and scale
    P_BP_1ST_DISTOLIC IN NUMBER, -- Remove precision and scale
    P_BP_2ND_SYSTOLIC IN NUMBER, -- Remove precision and scale
    P_BP_2ND_DISTOLIC IN NUMBER, -- Remove precision and scale
    P_LIVER_DISEASE IN VARCHAR2,
    P_GASTRIC_OR_DUODENAL_ULCER IN VARCHAR2,
    P_LUMP_TENDERNESS_FLUID_IN_ABODMEN IN VARCHAR2,
    P_PILES_OR_FISTULA IN VARCHAR2,
    P_URINE_SUGAR IN VARCHAR2,
    P_VENERAL_DISEASE IN VARCHAR2,
    P_HERENIA_DISEASE IN VARCHAR2,
    P_TESTIS_SIZE_CONSISTENCY IN VARCHAR2,
    P_HYDROCELE_PRESENT IN VARCHAR2,
    P_NERVE_DISEASES IN VARCHAR2,
    P_KNEE_JERKS_AND_PUPIL_REFLEXES IN VARCHAR2,
    P_ANY_OPERATION IN VARCHAR2,
    P_UNDERGONE_ECG_XRAY_BLOOD_URINE IN VARCHAR2,
    P_TEH_BREASTS_DISEASE IN VARCHAR2,
    P_EVEIDENCE_PREGENENCY IN VARCHAR2,
    P_UTERUS_CERVIX_DISEASE IN VARCHAR2,
    P_INJURY_MISCARRIAGE IN VARCHAR2,
    P_SPECIAL_REPORTS IN VARCHAR2,
    P_PAST_DISEASE_IF_SPEC_YES IN VARCHAR2,
    P_CONSIDER_LIFE_FIRSTCLASS IN VARCHAR2,
    P_ADDTIONAL_REMARKS IN VARCHAR2
)
IS
BEGIN
    INSERT INTO REPORTS (FULL_NAME,
        DOB,
        CLIENT_ID,
        AGENT_CODE,
        EXAMINER_CODE,
        FATHERS_NAME,
        OCCUPATION,
        INTRODUCER_NAME,
        INTRODUCER_DESG,
        IS_EXAMINE_KNOWN_BEFORE_PROF_PER,
        INDENTICATION_MARKS,
        APPEAERANT_AGE,
        DOES_SHE_HE_LOOKS_OLDER_AGE,
        GENERAL_APPEARANCE_HEALTH,
        SOBER_AND_TEMPERATE_HABITS,
        MARKS_OF_POX,
        SUCCESSFULL_VACCINATION_POX,
        DEFECTS_THYROID_SEWLLINGS_OF_JOINTS,
        EVIDENCE_OF_FILARISIS_VARICOSEVEINS_SKINDIESEASE,
        EVIDENCE_OF_PAST_PRESENT_MALIGNANCY,
        CHEST_OVER_NIPPLES_COMPLETE_EXPIRATION,
        CHEST_OVER_NIPPLES_FULL_INSPIRATION,
        ABDOMEN_OVER_NAVAL,
        HEIGHT_WITHUOT_SHOES,
        WEIGHT_WITH_THIN_CLOTHES,
        GUMS_TEETHS_TOUNGUE_HEALTHY,
        ANY_PYORSHEA_MODERATE_OR_MARKED,
        MISSING_TEETH_COUNT,
        DENUTRE_OF_MISSING_TEETH,
        DISEASE_OF_EYES_EARS_NOSE_THROATS,
        CHEST_SYMMETRICAL,
        SYMPTOMS_RESPIRATORY_SYSTEM,
        HEART_SIZE_POS_IMPULSE,
        STATE_PULSE_RATE,
        BLOOD_VESSELS_HEALTHY,
        BP_1ST_SYSTOLIC,
        BP_1ST_DISTOLIC,
        BP_2ND_SYSTOLIC,
        BP_2ND_DISTOLIC,
        LIVER_DISEASE,
        GASTRIC_OR_DUODENAL_ULCER,
        LUMP_TENDERNESS_FLUID_IN_ABODMEN,
        PILES_OR_FISTULA,
        URINE_SUGAR,
        VENERAL_DISEASE,
        HERENIA_DISEASE,
        TESTIS_SIZE_CONSISTENCY,
        HYDROCELE_PRESENT,
        NERVE_DISEASES,
        KNEE_JERKS_AND_PUPIL_REFLEXES,
        ANY_OPERATION,
        UNDERGONE_ECG_XRAY_BLOOD_URINE,
        TEH_BREASTS_DISEASE,
        EVEIDENCE_PREGENENCY,
        UTERUS_CERVIX_DISEASE,
        INJURY_MISCARRIAGE,
        SPECIAL_REPORTS,
        PAST_DISEASE_IF_SPEC_YES,
        CONSIDER_LIFE_FIRSTCLASS,
        ADDTIONAL_REMARKS
    ) VALUES (
        P_FULL_NAME,
        P_DOB,
        P_CLIENT_ID,
        P_AGENT_CODE,
        P_EX,
    	P_EXAMINER_CODE,
        P_FATHERS_NAME,
        P_OCCUPATION,
        P_INTRODUCER_NAME,
        P_INTRODUCER_DESG,
        P_IS_EXAMINE_KNOWN_BEFORE_PROF_PER,
        P_INDENTICATION_MARKS,
        P_APPEAERANT_AGE,
        P_DOES_SHE_HE_LOOKS_OLDER_AGE,
        P_GENERAL_APPEARANCE_HEALTH,
        P_SOBER_AND_TEMPERATE_HABITS,
        P_MARKS_OF_POX,
        P_SUCCESSFULL_VACCINATION_POX,
        P_DEFECTS_THYROID_SEWLLINGS_OF_JOINTS,
        P_EVIDENCE_OF_FILARISIS_VARICOSEVEINS_SKINDIESEASE,
        P_EVIDENCE_OF_PAST_PRESENT_MALIGNANCY,
        P_CHEST_OVER_NIPPLES_COMPLETE_EXPIRATION,
        P_CHEST_OVER_NIPPLES_FULL_INSPIRATION,
        P_ABDOMEN_OVER_NAVAL,
        P_HEIGHT_WITHUOT_SHOES,
        P_WEIGHT_WITH_THIN_CLOTHES,
        P_GUMS_TEETHS_TOUNGUE_HEALTHY,
        P_ANY_PYORSHEA_MODERATE_OR_MARKED,
        P_MISSING_TEETH_COUNT,
        P_DENUTRE_OF_MISSING_TEETH,
        P_DISEASE_OF_EYES_EARS_NOSE_THROATS,
        P_CHEST_SYMMETRICAL,
        P_SYMPTOMS_RESPIRATORY_SYSTEM,
        P_HEART_SIZE_POS_IMPULSE,
        P_STATE_PULSE_RATE,
        P_BLOOD_VESSELS_HEALTHY,
        P_BP_1ST_SYSTOLIC,
        P_BP_1ST_DISTOLIC,
        P_BP_2ND_SYSTOLIC,
        P_BP_2ND_DISTOLIC,
        P_LIVER_DISEASE,
        P_GASTRIC_OR_DUODENAL_ULCER,
        P_LUMP_TENDERNESS_FLUID_IN_ABODMEN,
        P_PILES_OR_FISTULA,
        P_URINE_SUGAR,
        P_VENERAL_DISEASE,
        P_HERENIA_DISEASE,
        P_TESTIS_SIZE_CONSISTENCY,
        P_HYDROCELE_PRESENT,
        P_NERVE_DISEASES,
        P_KNEE_JERKS_AND_PUPIL_REFLEXES,
        P_ANY_OPERATION,
        P_UNDERGONE_ECG_XRAY_BLOOD_URINE,
        P_TEH_BREASTS_DISEASE,
        P_EVEIDENCE_PREGENENCY,
        P_UTERUS_CERVIX_DISEASE,
        P_INJURY_MISCARRIAGE,
        P_SPECIAL_REPORTS,
        P_PAST_DISEASE_IF_SPEC_YES,
        P_CONSIDER_LIFE_FIRSTCLASS,
        P_ADDTIONAL_REMARKS
    );

    COMMIT;
EXCEPTION
    WHEN OTHERS THEN
        DBMS_OUTPUT.PUT_LINE('An Error occurred...'||SQLERRM);
END insert_reports;


--------------------------------------------------------------------------------------------------------------

